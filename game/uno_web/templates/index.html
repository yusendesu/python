<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <title>UNO Multiplayer</title>
</head>
<body>
    <div id="lobby" class="screen">
        <h1>UNO Multiplayer</h1>
        <div class="lobby-container">
            <div class="create-game">
                <h2>创建新游戏</h2>
                <input type="text" id="player-name" placeholder="你的名字" maxlength="10">
                <button id="create-game-btn">创建游戏</button>
            </div>
            <div class="join-game">
                <h2>加入游戏</h2>
                <input type="text" id="join-player-name" placeholder="你的名字" maxlength="10">
                <input type="text" id="game-code" placeholder="游戏代码" maxlength="8">
                <button id="join-game-btn">加入游戏</button>
            </div>
        </div>
        <div id="lobby-message" class="message"></div>
    </div>

    <div id="game" class="screen hidden">
        <div class="game-info">
            <div class="game-code">游戏代码: <span id="current-game-code"></span></div>
            <div class="players-list">
                <h3>玩家列表</h3>
                <div id="players-container"></div>
            </div>
        </div>

        <div class='cpu-box'>
            <div class='opponent-hand' id="opponent-hand-0">
                <!-- 对手手牌将通过JS动态生成 -->
            </div>
        </div>

        <div class='play-area'>
            <div class='score'>
                <div id='scores-container'></div>
                <p class='rules'>第一个达到500分的玩家获胜！</p>
            </div>
            <div class='play-pile'>
                <img id="top-card" src="" alt="">
            </div>
            <div class='draw-pile'>
                <img src="{{ url_for('static', filename='images/back.png') }}" alt="抽牌堆">
            </div>
        </div>

        <div class='player-box'>
            <div class='player-hand' id="player-hand">
                <!-- 玩家手牌将通过JS动态生成 -->
            </div>
            <div class='player-controls'>
                <button id="draw-card-btn">抽牌</button>
                <button id="say-uno-btn">UNO!</button>
            </div>
        </div>

        <div class='color-picker hidden'>
            <p>选择颜色:</p>
            <div>
                <button class='red' data-color="red">红色</button>
                <button class='green' data-color="green">绿色</button>
                <button class='blue' data-color="blue">蓝色</button>
                <button class='yellow' data-color="yellow">黄色</button>
            </div>
        </div>

        <div class='game-message hidden' id="game-message">
            <p id="message-text"></p>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='js/client.js') }}"></script>
</body>
</html>
